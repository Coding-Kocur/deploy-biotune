<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 650 700" width="650" height="700">
  <defs>
    <!-- Arrowhead -->
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="black" />
    </marker>
    <!-- Silencer Symbol (Triangle with Box) -->
    <g id="silencer">
      <polygon points="-5,0 5,0 0,8" fill="none" stroke="black" stroke-width="1.5"/>
      <rect x="-6" y="8" width="12" height="12" fill="none" stroke="black" stroke-width="1"/>
      <line x1="-6" y1="8" x2="6" y2="20" stroke="black" stroke-width="0.5"/>
      <line x1="6" y1="8" x2="-6" y2="20" stroke="black" stroke-width="0.5"/>
    </g>
    <!-- Pilot Triangle -->
    <polygon id="pilot-tri" points="0,0 8,5 0,10" fill="none" stroke="black" stroke-width="1.5"/>
  </defs>

  <!-- Background -->
  <rect width="100%" height="100%" fill="white"/>

  <!-- 1. Cylinder (Top) -->
  <g transform="translate(250, 50)">
    <rect x="0" y="0" width="200" height="60" fill="none" stroke="black" stroke-width="2"/>
    <line x1="200" y1="30" x2="280" y2="30" stroke="black" stroke-width="4"/> <!-- Rod -->
    <line x1="100" y1="5" x2="100" y2="55" stroke="black" stroke-width="2"/> <!-- Piston -->
    <text x="250" y="20" font-family="Arial" font-size="14">1S2</text>
    <line x1="260" y1="30" x2="260" y2="60" stroke="black" stroke-width="1.5" stroke-dasharray="4"/> <!-- Limit mark -->
    
    <!-- Linkage Origin -->
    <circle cx="260" cy="60" r="2" fill="black"/>
  </g>

  <!-- MECHANICAL LINKAGE LINE (Dashed) -->
  <!-- Cylinder 1S2 (250+260=510, 50+60=110) to Roller S2 (512, 485) -->
  <path d="M510,110 L510,160 L590,160 L590,480 L517,480" fill="none" stroke="black" stroke-width="1" stroke-dasharray="4"/>
  <polygon points="517,480 525,475 525,485" fill="black"/> 

  <!-- 2. Throttle Check Valves -->
  <!-- Left -->
  <polyline points="270,110 270,150" stroke="black" stroke-width="2"/>
  <g transform="translate(240, 150)">
     <rect x="0" y="0" width="60" height="40" fill="none" stroke="black" stroke-width="1.5"/>
     <circle cx="20" cy="20" r="5" fill="none" stroke="black"/>
     <polyline points="20,25 15,30 25,30 20,25" fill="none" stroke="black"/> 
     <line x1="40" y1="35" x2="50" y2="5" stroke="black" stroke-width="1.5"/>
     <path d="M47,8 L50,5 L53,10" fill="black" stroke="none"/>
     <path d="M35,10 Q45,20 55,10" fill="none" stroke="black" stroke-width="1.5"/>
  </g>
  <!-- Right -->
  <polyline points="430,110 430,150" stroke="black" stroke-width="2"/>
  <g transform="translate(400, 150)">
     <rect x="0" y="0" width="60" height="40" fill="none" stroke="black" stroke-width="1.5"/>
     <circle cx="20" cy="20" r="5" fill="none" stroke="black"/>
     <polyline points="20,25 15,30 25,30 20,25" fill="none" stroke="black"/> 
     <line x1="40" y1="35" x2="50" y2="5" stroke="black" stroke-width="1.5"/>
     <path d="M47,8 L50,5 L53,10" fill="black" stroke="none"/>
     <path d="M35,10 Q45,20 55,10" fill="none" stroke="black" stroke-width="1.5"/>
  </g>

  <!-- 3. 5/2 Pilot Valve (Center) -->
  <g transform="translate(300, 300)">
    <rect x="0" y="0" width="100" height="50" fill="none" stroke="black" stroke-width="2"/>
    <line x1="50" y1="0" x2="50" y2="50" stroke="black" stroke-width="1.5"/>
    
    <!-- Left Pos (14) -->
    <line x1="25" y1="50" x2="10" y2="0" stroke="black" stroke-width="1" marker-end="url(#arrow)"/> 
    <line x1="40" y1="0" x2="40" y2="35" stroke="black" stroke-width="1"/> 
    <line x1="40" y1="40" x2="40" y2="50" stroke="black" stroke-width="1"/> 
    
    <!-- Right Pos (12) -->
    <line x1="75" y1="50" x2="90" y2="0" stroke="black" stroke-width="1" marker-end="url(#arrow)"/> 
    <line x1="60" y1="0" x2="60" y2="35" stroke="black" stroke-width="1"/> 
    <line x1="60" y1="40" x2="60" y2="50" stroke="black" stroke-width="1"/>
    
    <text x="10" y="-5" font-family="Arial" font-size="12">4</text>
    <text x="90" y="-5" font-family="Arial" font-size="12">2</text>
    <text x="50" y="65" font-family="Arial" font-size="12">1</text>
    <text x="35" y="65" font-family="Arial" font-size="12">5</text>
    <text x="65" y="65" font-family="Arial" font-size="12">3</text>
    
    <!-- Pilots -->
    <rect x="-20" y="10" width="20" height="30" fill="none" stroke="black"/>
    <polyline points="-20,25 -10,20 -10,30 -20,25" fill="none" stroke="black"/> 
    <text x="-35" y="30" font-family="Arial" font-size="12">14</text>
    
    <rect x="100" y="10" width="20" height="30" fill="none" stroke="black"/>
    <polyline points="120,25 110,20 110,30 120,25" fill="none" stroke="black"/> 
    <text x="125" y="30" font-family="Arial" font-size="12">12</text>

    <!-- Silencers -->
    <use href="#silencer" x="40" y="52"/>
    <use href="#silencer" x="60" y="52"/>
  </g>

  <!-- 4. 3/2 Valves -->
  <!-- Left: S1 -->
  <g transform="translate(150, 500)">
     <rect x="0" y="0" width="50" height="50" fill="none" stroke="black" stroke-width="2"/>
     <line x1="25" y1="0" x2="25" y2="50" stroke="black" stroke-width="1.5"/>
     
     <line x1="37" y1="50" x2="37" y2="40" stroke="black" stroke-width="1"/> 
     <line x1="35" y1="38" x2="45" y2="38" stroke="black" stroke-width="1"/> 
     <line x1="37" y1="0" x2="45" y2="50" stroke="black" stroke-width="1" marker-end="url(#arrow)"/> 
     
     <line x1="12" y1="50" x2="12" y2="0" stroke="black" stroke-width="1" marker-end="url(#arrow)"/> 
     <line x1="12" y1="-10" x2="12" y2="0" stroke="black" stroke-width="1"/>
     <path d="M5,-10 Q12,-18 20,-10" fill="none" stroke="black"/> 
     <text x="5" y="-15" font-family="Arial" font-size="14">S1</text>
     <polyline points="12,50 12,60 15,52 18,58 21,52 24,58 24,50" fill="none" stroke="black"/>
     
     <!-- Silencer -->
     <use href="#silencer" x="45" y="52"/>
  </g>
  
  <!-- Right: S2 -->
  <g transform="translate(500, 500)">
     <rect x="0" y="0" width="50" height="50" fill="none" stroke="black" stroke-width="2"/>
     <line x1="25" y1="0" x2="25" y2="50" stroke="black" stroke-width="1.5"/>
     
     <line x1="37" y1="50" x2="37" y2="40" stroke="black" stroke-width="1"/>
     <line x1="35" y1="38" x2="45" y2="38" stroke="black" stroke-width="1"/>
     
     <line x1="12" y1="50" x2="12" y2="0" stroke="black" stroke-width="1" marker-end="url(#arrow)"/> 
     <line x1="12" y1="-10" x2="12" y2="0" stroke="black" stroke-width="1"/>
     <circle cx="12" cy="-15" r="5" fill="none" stroke="black"/> 
     <line x1="7" y1="-15" x2="-5" y2="-15" stroke="black" stroke-width="1"/> 
     <text x="20" y="-15" font-family="Arial" font-size="14">S2</text>
     <polyline points="12,50 12,60 15,52 18,58 21,52 24,58 24,50" fill="none" stroke="black"/>
     
     <!-- Silencer -->
     <use href="#silencer" x="45" y="52"/>
  </g>

  <!-- 5. FRL (Far Left) -- Matches Schematic Layout -->
  <g transform="translate(50, 550)">
    <rect x="0" y="0" width="80" height="40" fill="none" stroke="black" stroke-width="1.5" stroke-dasharray="4"/>
    <polygon points="10,20 20,10 30,20 20,30" fill="none" stroke="black"/>
    <line x1="20" y1="10" x2="20" y2="30" stroke="black" stroke-dasharray="2"/>
    <circle cx="40" cy="20" r="8" fill="none" stroke="black"/>
    <line x1="40" y1="20" x2="48" y2="12" stroke="black" marker-end="url(#arrow)"/>
    <polygon points="50,20 60,10 70,20 60,30" fill="none" stroke="black"/>
    <line x1="60" y1="10" x2="60" y2="15" stroke="black"/> 
    <!-- Input -->
    <line x1="-20" y1="20" x2="0" y2="20" stroke="black" marker-end="url(#arrow)"/>
  </g>

  <!-- SUPPLY BUS (MANIFOLD) -->
  <line x1="80" y1="570" x2="550" y2="570" stroke="black" stroke-width="2"/> <!-- Main Horizontal Bus -->
  <line x1="80" y1="570" x2="80" y2="590" stroke="black" stroke-width="2"/> <!-- FRL Out -->
  
  <!-- Taps from Bus -->
  <!-- To S1 -->
  <line x1="162" y1="570" x2="162" y2="560" stroke="black" stroke-width="2"/>
  <circle cx="162" cy="570" r="2" fill="black"/> <!-- Intersection dot -->
  
  <!-- To 5/2 (Center) -->
  <line x1="350" y1="570" x2="350" y2="350" stroke="black" stroke-width="2"/> <!-- Long line up to 5/2 -->
  <circle cx="350" cy="570" r="2" fill="black"/> <!-- Intersection dot -->
  
  <!-- To S2 -->
  <line x1="512" y1="570" x2="512" y2="560" stroke="black" stroke-width="2"/>
  <circle cx="512" cy="570" r="2" fill="black"/> <!-- Intersection dot -->

  <!-- CONTROL LINES -->
  <!-- Cylinder Lines -->
  <line x1="270" y1="50" x2="270" y2="150" stroke="black" stroke-width="2"/> 
  <line x1="430" y1="50" x2="430" y2="150" stroke="black" stroke-width="2"/> 
  <line x1="270" y1="190" x2="270" y2="250" stroke="black" stroke-width="2"/>
  <line x1="270" y1="250" x2="310" y2="300" stroke="black" stroke-width="2"/> 
  <line x1="430" y1="190" x2="430" y2="250" stroke="black" stroke-width="2"/>
  <line x1="430" y1="250" x2="390" y2="300" stroke="black" stroke-width="2"/> 

  <!-- Pilot Lines (Dashed) -->
  <path d="M162,500 L162,400 L280,400 L280,325" fill="none" stroke="black" stroke-width="1.5" stroke-dasharray="4"/> <!-- From S1 -->
  <path d="M512,500 L512,400 L420,400 L420,325" fill="none" stroke="black" stroke-width="1.5" stroke-dasharray="4"/> <!-- From S2 -->

</svg>
